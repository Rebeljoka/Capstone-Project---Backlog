{% extends 'base.html' %} {% block content %}
<div class="max-w-2xl mx-auto mt-8 p-6 bg-base-content rounded-lg shadow-md dark:bg-base-200">
	<h1 class="text-2xl font-bold mb-4">Add to Wishlist</h1>

	<div class="mb-6 p-4 bg-base-content dark:bg-base-200 rounded">
		<h2 class="font-semibold text-lg">{{ game.title }}</h2>
		{% if game.short_description %}
		<p class="text-gray-600 mt-1">{{ game.short_description|truncatewords:20 }}</p>
		{% endif %}
	</div>

	<form method="post">
		{% csrf_token %}
		<div class="mb-6">
			<label for="wishlist_id" class="block text-sm font-medium text-gray-700 mb-3"> Select Wishlist: </label>
			<div class="space-y-3">
				{% for item in wishlists_with_status %} {% if item.has_game %}
				<div class="border border-orange-200 dark:border-orange-400 bg-orange-50 dark:bg-orange-900 rounded-lg p-3">
					<div class="flex items-center justify-between">
						<label class="flex items-center text-gray-500 dark:text-gray-300 cursor-not-allowed">
							<input type="radio" name="wishlist_id" value="{{ item.wishlist.pk }}" disabled class="mr-3 text-gray-400" />
							<div>
								<span class="font-medium dark:text-white">{{ item.wishlist.name }}</span>
								<div class="text-sm text-gray-400">{{ item.wishlist.items.count }} game{{ item.wishlist.items.count|pluralize }}</div>
							</div>
						</label>
						<span class="text-orange-600 text-sm font-medium flex items-center">
							<span class="icon-[tabler--check] mr-1"></span>
							Already added
						</span>
					</div>
				</div>
				{% else %}
				<div class="border border-gray-200 dark:border-blue-400 bg-white dark:bg-base-300 rounded-lg p-3 hover:border-blue-300 dark:hover:border-blue-400 transition-colors">
					<label class="flex items-center cursor-pointer">
						<input type="radio" name="wishlist_id" value="{{ item.wishlist.pk }}" required class="mr-3 text-blue-500" />
						<div>
							<span class="font-medium">{{ item.wishlist.name }}</span>
							<div class="text-sm text-gray-500">{{ item.wishlist.items.count }} game{{ item.wishlist.items.count|pluralize }}</div>
						</div>
					</label>
				</div>
				{% endif %} {% endfor %}
			</div>
		</div>

		<div class="flex gap-4">
			<button type="submit" class="flex-1 bg-green-500 hover:bg-green-600 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline dark:bg-green-700 dark:hover:bg-green-800">Add to Wishlist</button>
			<a href="{% url 'game_list' %}" class="flex-1 text-center bg-red-500 hover:bg-red-600 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline dark:bg-red-700 dark:hover:bg-red-800"> Cancel </a>
		</div>
	</form>

	<div class="mt-6 text-center dark:text-blue-300">
		<a href="{% url 'wishlist_create' %}" class="text-blue-600 hover:text-blue-800 underline"> Create New Wishlist </a>
	</div>
</div>
{% endblock %}
