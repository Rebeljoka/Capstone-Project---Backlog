{% extends 'base.html' %}
{% block content %}
<h1>{{ wishlist.name }}</h1>
<ul>
  {% for item in wishlist.items.all %}
    <li>
      {{ item.game.title }}
      {% if not forloop.first %}
        <form action="{% url 'wishlist_item_move' item.pk 'up' %}" method="post" style="display:inline;">
          {% csrf_token %}
          <button type="submit">↑</button>
        </form>
      {% endif %}
      {% if not forloop.last %}
        <form action="{% url 'wishlist_item_move' item.pk 'down' %}" method="post" style="display:inline;">
          {% csrf_token %}
          <button type="submit">↓</button>
        </form>
      {% endif %}
      <form action="{% url 'wishlist_item_delete' item.pk %}" method="post" style="display:inline; margin-left:0.5em;">
        {% csrf_token %}
        <button type="submit" onclick="return confirm('Remove this game from the wishlist?');">Remove</button>
      </form>
    </li>
  {% empty %}
    <li>No items in this wishlist.</li>
  {% endfor %}
</ul>
<a href="{% url 'wishlist_list' %}">Back to Wishlists</a>
<form action="{% url 'wishlist_delete' wishlist.pk %}" method="post" style="margin-top:1em;">
  {% csrf_token %}
  <button type="submit" onclick="return confirm('Are you sure you want to delete this wishlist?');">Delete Wishlist</button>
</form>
{% endblock %}
